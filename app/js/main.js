function click(){var e=$("ul li:first-child a").attr("href");window.open(e),list.innerHTML="",$(search).val("")}function searchMe(e){var r=new XMLHttpRequest;r.open("GET","https://en.wikipedia.org/w/api.php?action=opensearch&format=json&origin=*&search="+e+"&namespace=0&limit=5"),r.send(),r.onload=function(){$(list).empty(),$(previewViewer).empty(),$(previewViewerList).empty();var e=JSON.parse(r.responseText),i=e[2][0],n=e[1],t=e[3];if(-1!==i.indexOf("may refer to")||-1!==i.indexOf("most commonly refers to"))for(var a=e[2],s=1;s<a.length;s++){var c=a[s].split(" ").splice(0,10).join(" ");previewViewerList.innerHTML+="<li><em>"+c+"...</em></li>"}0==i.length?previewViewer.innerHTML="<p>"+e[2][1]+"</p>":previewViewer.innerHTML="<p>"+i+"</p>";for(var l=0;l<n.length;l++){var o=t[l];o=o.split("").splice(o.indexOf(".")+1).join(""),list.innerHTML+="<li class='searchPreview'><span class = 'searchName'>"+n[l]+"</span><a target='_blank' href="+t[l]+">"+o+"<span><i class='fa fa-external-link' aria-hidden='true'></i></span></a></li>"}}}var search=document.getElementById("mySearch");search.autocomplete="off";var searchFor,list=document.getElementById("myUL"),preview=document.getElementsByClassName("searchPreview"),previewViewer=document.getElementById("previewViewer"),previewViewerList=document.getElementById("previewViewerList"),centered=document.getElementsByClassName("centered--content");$(search).on("keyup",function(e){searchFor=search.value;e.keyCode;(searchFor=search.value).length>0?(searchMe(searchFor),$(centered).addClass("hidden")):($(centered).removeClass("hidden"),$(list).empty(),$(previewViewer).empty(),$(previewViewerList).empty())}),$(search).on("keydown",function(e){13===e.which&&searchFor.length>0&&(e.preventDefault(),click())});