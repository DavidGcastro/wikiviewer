function click(){var e=$("ul li:first-child a").attr("href");window.open(e),list.innerHTML="",$(search).val("")}function searchMe(e){var r=new XMLHttpRequest;r.open("GET","https://en.wikipedia.org/w/api.php?action=opensearch&format=json&origin=*&search="+e+"&namespace=0&limit=5"),r.send(),r.onload=function(){$(list).empty(),$(previewViewer).empty(),$(previewViewerList).empty();var e=JSON.parse(r.responseText),i=e[1],n=e[3],t=e[2][0];if(-1!==t.indexOf("may refer to")||-1!==t.indexOf("most commonly refers to"))for(var a=e[2],s=1;s<a.length;s++){var c=a[s].split(" ").splice(0,10).join(" ");previewViewerList.innerHTML+="<li><em>"+c+"...</em></li>"}0===t.length?previewViewer.innerHTML="<p>Description not available. Press enter to learn more.</p>":previewViewer.innerHTML="<p>"+t+"</p>";for(var o=0;o<i.length;o++){var l=n[o];l=l.split("").splice(l.indexOf(".")+1).join(""),list.innerHTML+="<li class='searchPreview'><span class = 'searchName'>"+i[o]+"</span><a target='_blank' href="+n[o]+">"+l+"<span><i class='fa fa-external-link' aria-hidden='true'></i></span></a></li>"}}}var search=document.getElementById("mySearch");search.autocomplete="off";var searchFor,list=document.getElementById("myUL"),preview=document.getElementsByClassName("searchPreview"),previewViewer=document.getElementById("previewViewer"),previewViewerList=document.getElementById("previewViewerList"),centered=document.getElementsByClassName("centered--content");$(search).on("keyup",function(e){searchFor=search.value;e.keyCode;(searchFor=search.value).length>0?(searchMe(searchFor),$(centered).addClass("hidden")):($(centered).removeClass("hidden"),$(list).empty(),$(previewViewer).empty(),$(previewViewerList).empty())}),$(search).on("keydown",function(e){13===e.which&&searchFor.length>0&&(searchFor.length>0?click():alert("type something"))});